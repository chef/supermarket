<%= provide(:title, "Cookbooks") %>
<%= provide(:description, "Browse and search Chef cookbooks.") %>

<div class="page nobg">

  <section class="cookbook_body">
    <div class="order_cookbooks_by right">
      Sort by
      <%= link_to_sorted_cookbooks 'Most Downloaded', 'most_downloaded' %>
      <%= link_to_sorted_cookbooks 'Most Followed', 'most_followed' %>

    </div>
    <h1 class="cookbook_content_heading">
      <%= pluralize(@cookbooks.count, 'Cookbook') %>
      <small>
        <%= link_to '<i class="fa fa-rss"></i> RSS'.html_safe, params.merge(format: 'atom'), :class => 'rss_feed_link show-for-medium-up' %>
      </small>
    </h1>


    <article class="cookbook_content cookbook_content_category_listing">
      <% if @cookbooks.present? %>
        <ul class="cookbook_listing"><%= render @cookbooks %></ul>
        <%= paginate @cookbooks %>
      <% else %>
        <div class="cookbook_no_search_results">
          <p>Sorry, no cookbooks matched your search for <strong><%= params[:q] %></strong>. Search currently only supports searching by cookbook name.</p>

          <h3>Search Suggestions:</h3>
          <ul>
            <li>Check your spelling</li>
            <li>Try another search term</li>
            <li><%= link_to 'Browse the cookbooks directory', cookbooks_directory_path %></li>
          </ul>
        </div>
      <% end %>
    </article>
  </section>
</div>
